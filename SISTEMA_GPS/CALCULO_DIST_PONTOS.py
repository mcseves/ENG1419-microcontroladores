# VARIAVEIS DE CONTROLE

latitude = []
longitude = []
distancias = []
dist_pontos_adjacentes = []
controle=0


# VALORES RECEBIDOS DO GPS
latitude_gps  =  -22.988830000000004;
longitude_gps =  -43.24195;


# STRING COM OS PONTOS DA ROTA PRÉ-DEFINIDA NA ORDEM: LATITUDE | LONGITUDE
coordenadas =  "-22.97811,-43.233430000000006,-22.97747,-43.232580000000006,-22.977390000000003,-43.23239,-22.97728,-43.231790000000004,-22.97726,-43.231440000000006,-22.97725,-43.23107"
coordenadas += ",-22.977220000000003,-43.230850000000004,-22.977110000000003,-43.23049,-22.976740000000003,-43.22984,-22.97624,-43.22899,-22.975980000000003,-43.22858,-22.975980000000003,-43.22842000000001,-22.976020000000002,-43.22831,-22.976110000000002,-43.2282,-22.977430000000002,-43.227120000000006,-22.97784,-43.22677,-22.97794,-43.22673,-22.978080000000002,-43.22673,-22.978180000000002,-43.22675,-22.978450000000002,-43.226940000000006,-22.978700000000003,-43.22789,-22.97894,-43.229020000000006,-22.979080000000003,-43.229490000000006,-22.97923,-43.22988"
coordenadas += ",-22.97961,-43.2306,-22.980320000000003,-43.232130000000005,-22.98054,-43.232510000000005,-22.981050000000003,-43.233270000000005,-22.982100000000003,-43.23469,-22.982280000000003,-43.23501,-22.982370000000003,-43.235200000000006,-22.98261,-43.236000000000004,-22.9827,-43.236360000000005,-22.982730000000004,-43.236540000000005,-22.98279,-43.23678,-22.98291,-43.2372,-22.98301,-43.23743,-22.983200000000004,-43.237730000000006,-22.983420000000002,-43.23800000000001,-22.98348,-43.238040000000005,-22.983670000000004,-43.238240000000005,-22.984240000000003,-43.23866,-22.98767,-43.24109000000001,-22.98787,-43.241260000000004"
coordenadas += ",-22.988830000000004,-43.24195,-22.989250000000002,-43.242230000000006,-22.98984,-43.24277,-22.990060000000003,-43.24297000000001,-22.990340000000003,-43.24329,-22.991030000000002,-43.244110000000006,-22.991270000000004,-43.244510000000005,-22.991490000000002,-43.24492,-22.991690000000002,-43.245340000000006,-22.991860000000003,-43.24577,-22.99201,-43.2462,-22.992140000000003,-43.24665,-22.992240000000002,-43.2471,-22.992320000000003,-43.24756,-22.99237,-43.24801,-22.992400000000004,-43.24848,-22.992410000000003,-43.248940000000005,-22.99237,-43.24973000000001,-22.992350000000002,-43.250310000000006,-22.992350000000002,-43.25074,-22.99239,-43.25121,-22.992530000000002,-43.25208000000001,-22.992600000000003,-43.252370000000006,-22.99266,-43.25255000000001,-22.992890000000003,-43.25323,-22.992980000000003,-43.253440000000005,-22.99333,-43.254200000000004,-22.9938,-43.255250000000004,-22.994870000000002,-43.257580000000004,-22.99537,-43.258660000000006,-22.99565,-43.259170000000005,-22.99622,-43.26015,-22.996560000000002,-43.26086,-22.9968,-43.26156,-22.997110000000003, -43.262660000000004"
coordenadas += ",-22.997840000000004,-43.26518,-22.99792,-43.265510000000006,-22.99808,-43.266420000000004,-22.99818,-43.266650000000006,-22.998250000000002,-43.26690000000001,-22.998310000000004,-43.26708000000001,-22.998600000000003,-43.267810000000004,-22.99867,-43.267950000000006,-22.998790000000003,-43.26832,-22.99896,-43.26901,-22.998970000000003,-43.26919,-22.998980000000003,-43.269470000000005,-22.99903,-43.270010000000006,-22.999250000000004,-43.27149,-22.999370000000003,-43.27203,-22.999450000000003,-43.2723,-22.999640000000003,-43.27266,-22.999840000000003,-43.27295,-23.000030000000002,-43.27318,-23.000380000000003,-43.273520000000005,-23.000760000000003,-43.27384000000001,-23.001230000000003,-43.27432,-23.00184,-43.274930000000005,-23.002070000000003,-43.275180000000006,-23.002380000000002,-43.275600000000004,-23.00381,-43.277620000000006,-23.004530000000003,-43.27852,-23.005110000000002,-43.27931,-23.005360000000003,-43.27973,-23.005470000000003,-43.279970000000006,-23.005760000000002,-43.28081,-23.005950000000002,-43.281470000000006,-23.00608,-43.28182,-23.006320000000002,-43.282300000000006,-23.006880000000002,-43.28316,-23.0073,-43.283840000000005,-23.007520000000003,-43.284290000000006,-23.00768,-43.284690000000005,-23.007980000000003,-43.28546,-23.00814,-43.285790000000006,-23.00841,-43.286210000000004,-23.0086,-43.28642000000001,-23.008840000000003,-43.286640000000006,-23.00947,-43.28717,-23.009600000000002,-43.287310000000005"
coordenadas += ", -23.00973,-43.2875,-23.01144,-43.29088,-23.01178,-43.29159000000001,-23.01235,-43.292910000000006,-23.012510000000002,-43.293380000000006,-23.01256,-43.29357,-23.0131,-43.29608,-23.01313,-43.29643,-23.01313,-43.29686,-23.013080000000002,-43.29733,-23.012970000000003,-43.29782,-23.01282,-43.29822,-23.01266,-43.298610000000004,-23.011870000000002,-43.29983,-23.010430000000003,-43.30192,-23.01003,-43.302350000000004,-23.00965,-43.302670000000006,-23.009200000000003,-43.302980000000005,-23.008770000000002,-43.30331,-23.008090000000003,-43.303790000000006,-23.00795,-43.303790000000006,-23.007820000000002,-43.30386,-23.00766,-43.30402,-23.007540000000002,-43.30416,-23.007360000000002,-43.304460000000006,-23.00722,-43.30465,-23.00709,-43.304770000000005,-23.006950000000003,-43.30496,-23.00694,-43.30525,-23.006960000000003,-43.30583,-23.006870000000003,-43.307210000000005,-23.00682,-43.307610000000004,-23.006760000000003,-43.30787,-23.00671,-43.30825,-23.006690000000003,-43.30874,-23.006610000000002,-43.3098,-23.006600000000002,-43.31049,-23.006580000000003,-43.31083"

arr_coord =  coordenadas.split(",")


"""PREENCHE OS VETORES LATITUDE E LONGITUDE COM OS PONTOS PRÉ-DEFINIDOS"""
i=0
while(i < len(arr_coord)):
    if(i % 2 == 0):
        latitude.append(float(arr_coord[i]))
    else:
        longitude.append(float(arr_coord[i]))
    i+=1
   
""" CALCULA AS DISTÂNCIAS MÍNIMAS ENTRE O PONTO DE LOCALIZAÇÃO GPS E AS RETAS PRÉ-DEFINIDAS """
i=0
while(i < (len(arr_coord)/2)-1):
    dist_pontos_adjacentes.append( ( (latitude[i]-latitude[i+1])**(2) + (longitude[i]-longitude[i+1])**(2) )**(1/2))
    i+=1
i=0    
while(i < len(arr_coord)/2):
    distancias.append( ( (latitude[i]-latitude_gps)**(2) + (longitude[i]-longitude_gps)**(2) )**(1/2))
    i+=1

distancias.sort() # Ordenando as distancias entre o ponto GPS e os pontos da rota
dist_pontos_adjacentes.sort() # Ordenando as distancias entre os pontos adjacentes da rota

print("Distancias ordenadas: ")
print(distancias, "\n\n")

print("Distancias ordenadas: ")
print(dist_pontos_adjacentes, "\n\n")


"""
DENTRO DE UM LOOOP COM O DELAY USAR 
"""

# Comparação da menor distancia encontrada entre a localização do GPS e a maior distância entre dois pontos adjacantes da rota.
if( dist_pontos_adjacentes[-1] < distancias[0] ): 
     controle+=1  
     if(controle < 5):
        print("Voce esta fora da rota definida!!!")
        print("Volte imediatamente para rota.")
     else:
        print("DESTRUICAO")
 
 

